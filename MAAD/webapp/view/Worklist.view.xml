<mvc:View controllerName="com.coil.podium.MAAD.controller.Worklist" xmlns="sap.m" xmlns:c="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.f.semantic" xmlns:l="sap.ui.layout" xmlns:footerbar="sap.ushell.ui.footerbar" xmlns:fb="sap.ui.comp.filterbar">
	<semantic:SemanticPage id="page" headerPinnable="false" toggleHeaderOnTitleClick="false">
		<semantic:titleHeading>
			<l:VerticalLayout>
				<Select id="Id" items="{/MasterRoleSet}" change="onChange" selectedKey="{worklistView>/selRoleId}">
					<c:Item key="{Id}" text="{Role}"/>
				</Select>
				<SearchField id="searchField" tooltip="{i18n>worklistSearchTooltip}" search=".onSearch">
					<layoutData>
						<OverflowToolbarLayoutData maxWidth="200px" priority="NeverOverflow"/>
					</layoutData>
				</SearchField>
			</l:VerticalLayout>
		</semantic:titleHeading>
		<semantic:content>
			<Table id="table" width="auto"
				items="{ path: '/UserSet', filters : [ { path : 'IsArchived' , operator : 'EQ' , value1 : false }, { path : 'RoleId' , operator : 'EQ' , value1 : 1 } ], sorter: { path: 'Id', descending: false } }"
				noDataText="{worklistView>/tableNoDataText}" busyIndicatorDelay="{worklistView>/tableBusyDelay}" growing="true" growingScrollToLoad="true"
				updateFinished=".onUpdateFinished">
				<headerToolbar>
					<OverflowToolbar>
						<Title id="tableHeader" text="{worklistView>/worklistTableTitle}" level="H3"/>
						<ToolbarSpacer/>
						<Button text="{i18n>btnAdd}" visible="{= ${worklistView>/selectId} !== '3' }" icon="sap-icon://add" press="onAdd">
							<layoutData>
								<OverflowToolbarLayoutData maxWidth="200px" priority="NeverOverflow"/>
							</layoutData>
						</Button>
					</OverflowToolbar>
				</headerToolbar>
				<columns>
					<!--<Column width="4%">-->
					<!--	<Text text="{i18n>colSrNo}"/>-->
					<!--</Column>-->
					<Column width="17%">
						<Text text="{i18n>colFirstName}"/>
					</Column>
					<Column width="15%">
						<Text text="{i18n>colLastName}"/>
					</Column>
					<Column width="15%">
						<Text text="{i18n>colMobile}"/>
					</Column>
					<Column width="22%">
						<Text text="{i18n>colEmail}"/>
					</Column>
					<Column width="7%">
						<Text text="{i18n>colMessage}"/>
					</Column>
					<Column width="10%">
						<Text text="{i18n>colComment}"/>
					</Column>
					<Column width="7%" visible="{= ${worklistView>/selectId} !== '3' }">
						<Text text="{i18n>colEdit}"/>
					</Column>
					<Column width="7%">
						<Text text="{i18n>colRemove}"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem>
						<cells>
							<!--<Text text="{Id}"/>-->
							<!--<Text text="{= ${/UserSet}.indexOf(${}) + 1 }"/>-->
							<!--<Text text="{= Object.values(${/UserSet}).indexOf(${}) + 1 }"/>-->
							<!--<Text text="{= ${rowIndex} }"/>-->
							<Text text="{FirstName}"/>
							<Text text="{LastName}"/>
							<Text text="{Mobile}"/>
							<Text text="{Email}"/>
							<Button icon="sap-icon://message-popup" press="onMessage" type="Transparent"/>
							<Button icon="sap-icon://comment" press="onComment" type="Transparent"/>
							<Button icon="sap-icon://edit" enabled="{= ${worklistView>/selectId} !== '3' }" press="onEdit" type="Transparent"/>
							<Button icon="sap-icon://delete" enabled="{= ${worklistView>/loggedUserId} !== ${Id} }" press="onDelete" type="Transparent" tooltip="remove"/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</semantic:content>
		<semantic:sendEmailAction>
			<semantic:SendEmailAction id="shareEmail" press=".onShareEmailPress"/>
		</semantic:sendEmailAction>
		<semantic:shareInJamAction>
			<semantic:ShareInJamAction id="shareInJam" visible="{FLP>/isShareInJamActive}" press=".onShareInJamPress"/>
		</semantic:shareInJamAction>
		<semantic:saveAsTileAction>
			<footerbar:AddBookmarkButton id="shareTile" title="{worklistView>/saveAsTileTitle}"/>
		</semantic:saveAsTileAction>
	</semantic:SemanticPage>
</mvc:View>