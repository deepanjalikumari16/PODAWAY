
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.21.3/HERE_NOTICE
 */

H.util.eval("R.prototype.O=ca(3,function(a){var b=this.getCache(),c=this;if(a!==y){C(a,Ek,R.prototype.O,0);var d=a}else d=il;d!==b&&b.ra(function(e,f,g){return c.fc(e)?(d.add(e,f,g),!0):!1});this.T=d});Sh.prototype.b=ca(2,function(a){this.i=a;a=this.getState();a!==Ph.INIT&&a!==Ph.LOADING&&$h(this)});function np(a,b){Wa.apply(null,arguments);return a}\nfunction op(a,b){b=void 0===b?{}:b;if(!a.bk)throw new Yc(a);op.l.constructor.call(this);var c=pp(this,b);if(!c.baseUrl&&!c.platformBaseUrl)throw new D(a,0,'either \"baseUrl\" or \"platformBaseUrl\" must be specified');this.c=(c.baseUrl?c.baseUrl:c.platformBaseUrl).clone();a=c.baseUrl?b:c;a.host&&this.c.zg(a.host);a.subDomain&&this.c.Qa(a.subDomain);a.path&&this.c.pf(a.path);qp(this.c);this.fg=c.headers||{}}u(op,F);t(\"H.service.Service\",op);function pp(a,b){a=a.a();return b?np({},a,b):a}\nop.prototype.a=function(){return{}};op.prototype.I=function(){return this.c};op.prototype.getUrl=op.prototype.I;op.prototype.J=function(a,b,c,d){d=new rf(void 0===d?\"application/json\":d,a.toString(),fe,{headers:this.fg});d.then(b,rp(this,a,c));return d};function rp(a,b,c){return function(d){return\"function\"!==typeof d.json?Promise.reject(c(sp(b,d))):d.json().then(function(e){return c(a.b(e))},function(){return c(sp(b,d))})}}op.prototype.b=function(a){return Error(a.message)};\nfunction sp(a,b){return Error((b.statusText?\"[\"+b.statusText+\"] \":\"\")+a+\" request failed\")};function X(a,b,c,d,e,f){if(a&&b)this.fl(a),this.zg(b),this.pf(c),this.el(e),this.Vk(f),this.Ii(d);else throw Error('Parameters \"scheme\" and \"host\" must be specified');}t(\"H.service.Url\",X);\nfunction tp(a,b){var c=x.document,d,e=c&&c.createElement(\"a\"),f=\"\";if(c){if(b){var g=(d=c.getElementsByTagName(\"base\")[0])&&d.href;var h=c.head;var k=d||h.appendChild(c.createElement(\"base\"));k.href=b}e.href=a;f=e.href;b&&(d?d.href=g:h.removeChild(k))}else/[\\w]+:\\/\\//.test(a)&&(f=a);g=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(f);a=g[1];k=g[4];b=g[5];h=g[6];c=g[7];d=g[8];!g[2]&&k&&/@/.test(k)&&(k=k.split(\"@\")[1]);g=k;h=h&&0<h.length?h.substr(1):\n\"\";k={};if(c)for(e=/([?&]?([^=&+]+))(=([^&]+))?/g;f=e.exec(c);)k[decodeURIComponent(f[2])]=f[4]?decodeURIComponent(f[4]):void 0;return new X(a,g,h,k,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):\"\")}X.parse=tp;var up=0;X.prototype.clone=function(){up++;var a={},b;for(b in this.a)a[b]=this.a[b];return new X(this.s,this.f,this.c,a,this.g,this.b)};X.prototype.clone=X.prototype.clone;\nX.prototype.fl=function(a){if(!a||\"string\"!==typeof a)throw Error('The \"scheme\" parameter must be a non-empty string.');this.s=a;return this};X.prototype.setScheme=X.prototype.fl;X.prototype.kn=function(){return this.s};X.prototype.getScheme=X.prototype.kn;X.prototype.zg=function(a){if(!a||\"string\"!==typeof a||\"-\"===a.charAt(0)||\".\"===a.charAt(0)||\".\"===a.charAt(a.length-1))throw Error('The \"host\" parameter is not a valid host name.');this.f=a;return this};X.prototype.setHost=X.prototype.zg;\nX.prototype.Em=function(){return this.f};X.prototype.getHost=X.prototype.Em;X.prototype.pf=function(a){this.c=a||void 0;return this};X.prototype.setPath=X.prototype.pf;X.prototype.Xm=function(){return this.c};X.prototype.getPath=X.prototype.Xm;X.prototype.Ii=function(a){if(a)if(\"object\"==typeof a)this.a=a;else throw Error('Parameter \"params\" must be an object.');else this.a={};return this};X.prototype.setQuery=X.prototype.Ii;X.prototype.Wj=function(){return!vp(this)};X.prototype.hasQuery=X.prototype.Wj;\nX.prototype.getQuery=function(){return this.a};X.prototype.getQuery=X.prototype.getQuery;X.prototype.el=function(a){if(a&&isNaN(parseInt(a,10)))throw Error('Parameter \"port\" must be a number or undefined');this.g=+a||void 0;return this};X.prototype.setPort=X.prototype.el;X.prototype.an=function(){return this.g};X.prototype.getPort=X.prototype.an;X.prototype.Vk=function(a){this.b=a||void 0;return this};X.prototype.setAnchor=X.prototype.Vk;X.prototype.nd=function(){return this.b};\nX.prototype.getAnchor=X.prototype.nd;X.prototype.N=function(a){if(\"object\"!==typeof a)throw Error('Parameter \"other\" must be an object.');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&\"function\"!==typeof a[c]&&(b[c]=a[c]);return this};X.prototype.mergeQuery=X.prototype.N;X.prototype.Qa=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subDomain\" must be a non-empty string');\".\"===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.zg(a+\".\"+this.f)};\nX.prototype.addSubDomain=X.prototype.Qa;X.prototype.L=function(a){if(!a||\"string\"!==typeof a)throw Error('Parameter \"subPath\" must be a non-empty string');return this.pf((this.c?this.c+\"/\":\"\")+a)};X.prototype.addSubPath=X.prototype.L;X.prototype.toString=function(){return[this.s+\"://\",this.f,this.g?\":\"+this.g:\"\",this.c||!vp(this)||this.b?\"/\":\"\",this.c?encodeURI(this.c):\"\",wp(this),this.b?\"#\"+encodeURIComponent(this.b):\"\"].join(\"\")};X.prototype.toString=X.prototype.toString;\nfunction wp(a){var b=[],c,d=a.a,e;for(c in d)if(d.hasOwnProperty(c)&&\"function\"!==typeof d[c]){var f=a.a[c];if(C(f,xp)){var g=0;var h=f.ul;for(e=h.length;g<e;)b.push(encodeURIComponent(c)+(void 0===f?\"\":\"=\"+encodeURIComponent(h[g]))),g++}else b.push(encodeURIComponent(c)+(void 0===f?\"\":\"=\"+encodeURIComponent(f)))}return 0<b.length?\"?\"+b.join(\"&\"):\"\"}function qp(a){var b=Ef(\"H-service\",\"1.21.3\",\"629d1cd\");a.a.xnlp=\"CL_JSMv3.\"+b.version;return a}\nfunction vp(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&\"function\"!==typeof a.a[b]&&(c++,0<c))break;return!c}function xp(a){var b;if(!yc(a))throw new D(xp,0,a);for(b=0;b<a.length;b++){var c=a[b];if(!zc(c)&&!Cc(c))throw new D(xp,0,\"The array can only contain strings and numbers\");}this.ul=a}X.MultiValueQueryParameter=xp;xp.prototype.tn=function(){return this.ul};xp.prototype.getValues=xp.prototype.tn;function Y(a){a=np({},this.b,a);var b=a.apikey||a.apiKey,c=a.baseUrl;if(c=b?c?0:\"baseUrl\":\"apikey\")throw new D(Y,0,'\"'+c+'\" must be specified');this.Yk(a.baseUrl);this.a=b;this.c.N({apikey:b});this.f=a.headers||{};this.g=Ua(a.servicesConfig||{})}t(\"H.service.Platform\",Y);Y.prototype.b={apikey:null,baseUrl:new X(\"https\",\"hereapi.com\")};Y.prototype.Yk=function(a){this.c=qp(a.clone());this.a=a=this.a;this.c.N({apikey:a})};Y.prototype.setBaseUrl=Y.prototype.Yk;Y.prototype.gc=function(){return this.c};\nY.prototype.getBaseUrl=Y.prototype.gc;Y.prototype.bb=function(a,b){try{return a.bk=!0,new a(np({platformBaseUrl:this.gc(),headers:this.f},this.g[a.CONFIG_KEY]||{},b||{}))}finally{delete a.bk}};Y.prototype.createService=Y.prototype.bb;var yp=Function(\"return this\")();rc(\"monospace serif\");function zp(){}zp.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||yp.document.createElement(\"canvas\")};zp.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var Ap=new zp;t(\"H.service.util.eval\",function(a){return eval(a)});function Bp(){var a=decodeURIComponent(x.H.getScriptPath());a=a?\"/\"===a[a.length-1]?a.substring(0,a.length-1):a:\"https://js.api.here.com/v3/3.1.21.3\";return tp(a).L(\"styles\")};function Cp(a,b,c){var d=this;c=c||{};var e=+c.min,f=+c.max;c.tileSize=c.tileSize||512;c.min=e?Yd(e,1,17):1;c.min+=Ck(c.tileSize,1);c.max=f?Yd(f,1,17):17;Cp.l.constructor.call(this,c);C(a,Dp,Cp,0);C(b,Oh,Cp,1);this.o=a;b.b&&b.b(\"OMV\");this.Ed(b,!0);this.s=function(){Ep(d);d.reload(!1)};a.addEventListener(\"versionupdate\",this.s);Ep(this);Cp.prototype.D=function(){var g=/^v2\\/vectortiles\\/(.+)\\/mc$/.exec(a.I().c);return g?g[1]:B+\"\"}()}u(Cp,R);t(\"H.service.omv.Provider\",Cp);\nfunction Ep(a){var b=a.rd(\"_#-;,:\",\"_#-;,:\",\"_#-;,:\");a.v=new RegExp(\"^\"+b.replace(/[.*+?^${}()|[\\]\\\\\\/]/g,\"\\\\$&\").replace(/_#-;,:/g,\"\\\\d+\")+\"$\")}Cp.prototype.fc=function(a){return this.v.test(a)};Cp.prototype.cacheFilter=Cp.prototype.fc;Cp.prototype.rd=function(a,b,c){return Fp(this.o,a,b,c).toString()};Cp.prototype.getTileKey=Cp.prototype.rd;Cp.prototype.Pb=function(){return this.K};Cp.prototype.getCache=Cp.prototype.Pb;Cp.prototype.MAX_STORE_TIME=2592E6;Cp.prototype.Wg=function(){return md()};\nCp.prototype.Yd=function(){return md()?ld():Cp.l.Yd.call(this)};Cp.prototype.J=function(a,b,c,d,e){return this.o.ib(a,b,c,d,e)};Cp.prototype.requestInternal=Cp.prototype.J;Cp.prototype.gd=function(a){a.b&&a.b(\"OMV\");this.Ed(a)};Cp.prototype.setStyle=Cp.prototype.gd;Cp.prototype.ta=function(){return Cp.l.Db.apply(this)};Cp.prototype.getStyle=Cp.prototype.ta;\nCp.prototype.Db=function(){var a=Cp.l.Db.apply(this),b;this.B&&(a.getState()===Ph.READY?(b=a.od())&&b.global&&(this.c&&(b.global.ux_language=this.c),this.a&&(b.global.ux_language_fallback=this.a),a=new Sh(b,a.gc())):a.load());return a};function Hp(a,b,c){var d=a.Db().getState()===Ph.READY,e=zc(b),f=zc(c);e&&(a.c=b);f&&(a.a=c);if(e||f)a.B=!0,d&&a.f()}Cp.prototype.u=function(){Cp.l.u.call(this);this.o.removeEventListener(\"versionupdate\",this.s)};Cp.prototype.K=new Ek(256);\nCp.prototype.sa=function(a,b){return Ip(this.o.sa(),this.D,b,a)};Cp.prototype.getCopyrights=Cp.prototype.sa;function Dp(a){Dp.l.constructor.call(this,Dp,a);a=pp(this,a).mapVersion;this.Te=tc(a)?a:Jp[this.I().toString()];tc(this.Te)||Kp(this)}u(Dp,op);t(\"H.service.omv.Service\",Dp);Dp.prototype.a=function(){return{subDomain:\"vector\",path:\"v2/vectortiles/base/mc\"}};Dp.CONFIG_KEY=\"omv\";var Jp={};Fc(Jp);Dp.prototype.Om=function(){return this.Te};Dp.prototype.getMapVersion=Dp.prototype.Om;\nfunction Kp(a){a.J(a.I().clone().L(\"../../info\"),function(b){b=b.mapVersion;var c=a.I().toString();a.Te=b;b!==Jp[c]&&(Jp[c]=b,a.dispatchEvent(\"versionupdate\"))},function(){})}Dp.prototype.kd=function(a,b){return new ml(new Cp(this,a,b),{max:22})};Dp.prototype.createLayer=Dp.prototype.kd;Dp.prototype.ib=function(a,b,c,d,e){return this.J(Fp(this,a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,\"arraybuffer\")};\nfunction Fp(a,b,c,d){b=a.I().clone().L(d+\"/\"+b+\"/\"+c+\"/omv\");tc(a.Te)&&b.N({mv:a.Te});return b}Dp.prototype.Xf=function(a){return Bp().L(\"omv/\"+a+\".yaml\")};Y.prototype.Nj=function(a){return this.bb(Dp,a)};Y.prototype.getOMVService=Y.prototype.Nj;Dp.prototype.Fe=function(){this.Wc=new Lp;this.J(this.I().clone().L(\"../../copyrights\"),A(this.Ti,this),id)};Dp.prototype.Ti=function(a){Mp(this.Wc,a);this.dispatchEvent(\"copyrightupdate\")};Dp.prototype.sa=function(){this.Wc||this.Fe();return this.Wc};\nDp.prototype.getCopyrights=Dp.prototype.sa;function Lp(){this.a={}}function Mp(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,e=b[c],f=a.a[c]||(a.a[c]=[]),g=e.length;for(d=0;d<g;d++)f.push(new Np(e[d]))}}function Ip(a,b,c,d){var e=(a=a.a[b])?a.length:0,f=[];for(b=0;b<e;b++)a[b].td(c,d)&&f.push(a[b]);return f}\nfunction Np(a){var b,c=a.boxes;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length)){var d=c[0];var e=new K(d[0],d[1],d[2],d[3]);this.b.push(e);this.a=new K(d[0],d[1],d[2],d[3]);for(a=1;a<b;a++)d=c[a],e=new K(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.mc(e,!1,this.a)}}Np.prototype.td=function(a,b){if(a>=this.min&&a<=this.max)if((a=this.b.length)&&this.a){if(this.a.td(b))for(;a--;)if(this.b[a].td(b))return!0}else return!0;return!1};function Op(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.I().clone().L(b+\"/\"+a.Bc()+\"/\"+c).N(f),l=a.zh();this.D=a;this.V=k;tk.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(m,q,p){var r=h.V.clone();l&&r.Qa(l[(p+q+m)%l.length]);r.L(p+\"/\"+m+\"/\"+q+\"/\"+d+\"/\"+e);return r.toString()},crossOrigin:g.crossOrigin,headers:g.headers,uri:k.toString().replace(/_/g,\"\")+d});this.jb=b;this.s=c;this.a=f;this.vb=c.split(\".\")[0];this.eg=A(this.eg,this);this.getCopyrights=this.sa;a.addEventListener(\"versionupdate\",\nthis.eg)}u(Op,tk);Op.prototype.MAX_STORE_TIME=2592E6;n=Op.prototype;n.u=function(){tk.prototype.u.call(this);this.D.removeEventListener(\"versionupdate\",this.eg)};n.sa=function(a,b){return Ip(this.D.sa(),this.vb,b,a)};n.eg=function(){var a=this.D;this.V=a.I().clone().L(this.jb+\"/\"+a.Bc()+\"/\"+this.s).N(this.a);this.reload(!1)};n.Wg=function(){return md()};n.Yd=function(){return md()?ld():Op.l.Yd.call(this)};function Pp(a){Pp.l.constructor.call(this,Pp,a);a=pp(this,a);this.ac=a.shards;(this.Oa=a.ignoreTypes?null:a.type)&&this.I().Qa(this.Oa);this.bc=a.version;this.Wc=new Lp;this.si={};this.Kf=0;\"newest\"===this.bc&&this.ih()}u(Pp,op);t(\"H.service.MapTileService\",Pp);Pp.prototype.a=function(){return{subDomain:\"maps.ls\",path:\"maptile/2.1\",type:\"base\",version:\"newest\",shards:[\"1\",\"2\",\"3\",\"4\"]}};Pp.CONFIG_KEY=\"maptile\";\nfunction Qp(a,b){for(var c={},d=a[b+\"s\"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+\"s\"]=c}Pp.prototype.zh=function(){return this.ac};Pp.prototype.Rj=function(){return this.Oa};Pp.prototype.getType=Pp.prototype.Rj;Pp.prototype.Bc=function(){return this.bc};Pp.prototype.getVersion=Pp.prototype.Bc;Pp.prototype.Mi=function(a){this.bc=a};Pp.prototype.sa=function(){this.Kf||(this.bc&&\"newest\"!==this.bc||\"traffic\"===this.Oa)&&this.Fe();return this.Wc};Pp.prototype.getCopyrights=Pp.prototype.sa;n=Pp.prototype;\nn.Ui=function(a){a=a.response;var b;Qp(a,\"map\");Qp(a,\"scheme\");Qp(a,\"tiletype\");Qp(a,\"format\");Qp(a,\"resolution\");Qp(a,\"language\");if(\"newest\"===this.bc&&\"traffic\"!==this.Oa)for(b in a.maps)a.maps[b].hash&&a.maps[b].newest&&(this.Mi(a.maps[b].hash),this.dispatchEvent(\"versionupdate\"));this.Gh=a;this.dispatchEvent(\"infoupdate\")};n.Ti=function(a){Mp(this.Wc,a);this.dispatchEvent(\"copyrightupdate\")};\nn.ih=function(){var a=this;var b=this.I().clone().L(\"info\").N({output:\"json\"});this.ac&&b.Qa(this.ac[0]);this.J(b,function(c){a.Ui(c)},function(c){throw c;})};n.Fe=function(){var a=this;var b=this.I().clone().L(\"copyright\").L(a.Bc()).N({output:\"json\"});this.ac&&b.Qa(this.ac[0]);this.Kf=1;this.J(b,function(c){a.Kf=2;a.Ti(c)},function(c){a.Kf=-1;throw c;})};n.sh=function(){return this.Gh};Pp.prototype.getInfo=Pp.prototype.sh;\nPp.prototype.Ae=function(a,b,c,d,e,f){var g=this.I().clone().L(a+\"/\"+this.Bc()+\"/\"+b+\"/\"+c+\"/\"+d).N(e?e:{}).toString();var h=0,k,l=g.length;if(0!==l)for(k=0;k<l;k++){var m=g.charCodeAt(k);h=(h<<5)-h+m;h|=0}g=h;h=this.si[g];h||(h=new Op(this,a,b,c,d,e,np({headers:this.fg},f||{})),this.si[g]=h);return h};Pp.prototype.createTileProvider=Pp.prototype.Ae;Pp.prototype.uc=function(a,b,c,d,e,f,g,h){a=this.Ae(a,b,c,d,e,h);return new ml(a,{opacity:f,dark:!!g})};Pp.prototype.createTileLayer=Pp.prototype.uc;\nY.prototype.vh=function(a){return this.bb(Pp,a)};Y.prototype.getMapTileService=Y.prototype.vh;Y.prototype.$g=function(a,b,c,d,e,f){var g=this.vh(),h=this.vh({type:\"aerial\"}),k=this.Qj(),l=this.Nj(),m={},q={crossOrigin:\"anonymous\"};Da(a)&&(f=a,\"crossOrigin\"in f&&(q.crossOrigin=f.crossOrigin),a=f.tileSize,b=f.ppi,c=f.lg,d=f.lg2,e=f.style,f=f.pois);var p=a||512;if(0>[72,250,320,500].indexOf(+b)){if(b!==B)throw new D(this.$g,1,b);}else m.ppi=+b;c&&(m.lg=c);d&&(m.lg2=d);e&&(m.style=e);f&&(m.pois=f);a=function(r,v,w,z,J){return r.uc(v,w,p,z,m,1,J,q)};b=l.kd(new Sh(l.Xf(\"miami/normal.day\").toString()));\nHp(b.pa(),m.lg,m.lg2);c=l.kd(new Sh(l.Xf(\"miami/truck.day\").toString()));Hp(c.pa(),m.lg,m.lg2);l=k.rj(m.lg?{lg:m.lg,i18n:!0}:void 0);return{vector:{normal:{map:b,truck:c,traffic:k.qj(),trafficincidents:l}},raster:{normal:{xbase:a(g,\"xbasetile\",\"normal.day\",\"png8\",!1),xbasenight:a(g,\"xbasetile\",\"normal.night\",\"png8\",!0),base:a(g,\"basetile\",\"normal.day\",\"png8\",!1),basenight:a(g,\"basetile\",\"normal.night\",\"png8\",!0),map:a(g,\"maptile\",\"normal.day\",\"png8\",!1),mapnight:a(g,\"maptile\",\"normal.night\",\"png8\",\n!0),trafficincidents:l,transit:a(g,\"maptile\",\"normal.day.transit\",\"png8\",!1),labels:a(g,\"labeltile\",\"normal.day\",\"png\",!1)},satellite:{xbase:a(h,\"xbasetile\",\"hybrid.day\",\"jpg\",!0),base:a(h,\"basetile\",\"hybrid.day\",\"jpg\",!0),map:a(h,\"maptile\",\"hybrid.day\",\"jpg\",!0),labels:a(h,\"labeltile\",\"hybrid.day\",\"png\",!0)},terrain:{xbase:a(h,\"xbasetile\",\"terrain.day\",\"jpg\",!1),base:a(h,\"basetile\",\"terrain.day\",\"jpg\",!1),map:a(h,\"maptile\",\"terrain.day\",\"jpg\",!1),labels:a(h,\"labeltile\",\"terrain.day\",\"png\",!1)}}}};\nY.prototype.createDefaultLayers=Y.prototype.$g;function Rp(){this.a={}}Rp.prototype.zb=function(a,b){var c=a+b,d;if(d=this.a[c])return d;a=Sp.MARKER.replace(\"{{icon}}\",Tp[a]||Tp.OTHER);a=a.replace(\"{{color}}\",Up[b]||Up.BLOCKING);b={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Ki(Li.POLYGON,Vp.MARKER)};return this.a[c]=d=new Hj(a,b)};\nvar Sp={MARKER:'<svg width=\"26\" height=\"33\" enable-background=\"new 0 0 26 33\" viewBox=\"0 0 26 33\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m26 33h-26v-33h26z\" fill=\"#8c8c8c\" opacity=\"0\"/><path d=\"m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026\" fill=\"#878787\" opacity=\".6\"/><path d=\"m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z\" fill=\"{{color}}\"/>{{icon}}</svg>'},Tp=\n{CONGESTION:'<path style=\"fill:#FFFFFF;\" d=\"M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z\"/>',\nROADWORKS:'<path d=\"m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z\" fill=\"#fff\"/>',\nACCIDENT:'<path style=\"fill:#FFFFFF;\" d=\"M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z\"/>',\nOTHER:'<path style=\"fill:#FFFFFF;\" d=\"M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z\"/>'},\nUp={BLOCKING:\"#323232\",VERYHIGH:\"#d5232f\",HIGH:\"#ffa100\"},Vp={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function Wp(a,b,c){c=c?c:{};c.criticality||(c.criticality=\"major,critical\");C(a,Xp,Wp,0);on.call(this,{max:20,min:8,requestData:A(this.V,this)});this.s=new Rp;this.B=a;this.a=c;this.reload=A(this.reload,this);this.v=setInterval(this.reload,b||18E4)}u(Wp,on);t(\"H.service.traffic.incidents.Provider\",Wp);Wp.prototype.c={minor:\"HIGH\",\"low impact\":\"HIGH\",major:\"VERYHIGH\",critical:\"BLOCKING\"};\nWp.prototype.V=function(a,b,c,d,e){var f=this,g=this.c,h=this.s;return this.B.requestIncidentsByTile(a,b,c,function(k){var l=[];k=k.TRAFFIC_ITEMS;var m;if(k)for(k=k.TRAFFIC_ITEM,m=k.length;m--;){var q=k[m];var p=q.TRAFFIC_ITEM_TYPE_DESC;switch(p){case \"ACCIDENT\":case \"CONGESTION\":var r=p;break;case \"CONSTRUCTION\":r=\"ROADWORKS\";break;default:r=\"OTHER\"}r=h.zb(r,g[q.CRITICALITY.DESCRIPTION]);p=q.LOCATION.GEOLOC.ORIGIN;p=new mn({lat:p.LATITUDE,lng:p.LONGITUDE},{provider:f,icon:r});p.setData(q);l.push(p)}d(l)},\ne,this.a)};Wp.prototype.C=function(){on.prototype.C.call(this);clearInterval(this.v)};var Yp=\"A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A\".split(\" \");function Zp(a,b){var c={};this.a=a;Wa(c,b||c);bk.call(this,c);this.sg={};a=this.Qb(Pg.SPATIAL);a.update(a.a+1,Mg.ADD)}u(Zp,bk);t(\"H.service.remote.ObjectProvider\",Zp);Zp.prototype.C=function(){bk.prototype.C.call(this)};Zp.prototype.Kc=function(){return ff};Zp.prototype.requestMarkers=Zp.prototype.Kc;Zp.prototype.Jc=function(){return ff};Zp.prototype.requestDomMarkers=Zp.prototype.Jc;Zp.prototype.zd=function(){return ff};Zp.prototype.requestOverlays=Zp.prototype.zd;Zp.prototype.Wb=df;\nZp.prototype.providesMarkers=Zp.prototype.Wb;Zp.prototype.Vb=df;Zp.prototype.providesDomMarkers=Zp.prototype.Vb;Zp.prototype.Ic=df;Zp.prototype.providesSpatials=Zp.prototype.Ic;Zp.prototype.tg=function(){return ff};Zp.prototype.requestSpatials=Zp.prototype.tg;function $p(a){return a.Cc(!0)}Zp.prototype.ug=function(a,b){a=aq(this,a,bq);b&&(a=a.filter($p));return a};Zp.prototype.requestSpatialsByTile=Zp.prototype.ug;\nfunction aq(a,b,c){var d=b.j&&b.j[c],e;!d&&(e=b.m)&&(delete b.m,(b.j=a=a.a.parse(a,b,e))&&(d=a[c]));return d||ff}Zp.prototype.ea=function(a){var b=a.fb();if(this.sg[b])throw new Yc(this.ea,\"Remote object \"+b+\" already added\");return this.sg[b]=a};Zp.prototype.Ha=function(a){delete this.sg[a.fb()]};var bq=\"spatials\";function cq(a,b,c){cq.l.constructor.call(this,{min:dq,max:eq});C(a,Xp,cq,0);this.s=a;this.a=c||fq;this.a.responseattributes=\"sh,fc\";this.c=setInterval(A(this.reload,this),b||18E4);this.Ed(new Sh(a.Xf().toString()),!0)}u(cq,R);t(\"H.service.traffic.flow.Provider\",cq);cq.prototype.ta=function(){return this.Db()};cq.prototype.getStyle=cq.prototype.ta;cq.prototype.gd=function(a){a.b&&a.b(\"GeoJSONTileSource\");this.Ed(a)};cq.prototype.setStyle=cq.prototype.gd;var fq={locationreferences:\"tmc,shp\"};\ncq.prototype.u=function(){cq.l.u.call(this);clearInterval(this.c)};cq.prototype.J=function(a,b,c,d,e){return this.s.requestFlowByTile(a,b,c,function(f){f.type&&-1!==f.type.indexOf(\"Error\")?e(f.Details):d(f)},e,this.a)};cq.prototype.requestInternal=cq.prototype.J;\ncq.prototype.ld=function(a,b,c,d,e){var f,g,h,k,l={type:\"FeatureCollection\",features:[]},m;var q=d.RWS.length;for(f=0;f<q;f++){var p=d.RWS[f];var r=p.RW;var v=r.length;var w=-1!==Yp.indexOf(p.EXTENDED_COUNTRY_CODE+p.EBU_COUNTRY_CODE);for(p=0;p<v;p++){var z=r[p].FIS;var J=z.length;for(z=0;z<J;z++){var G=r[p].FIS[z].FI;var V=G.length;for(g=0;g<V;g++){var T=G[g];var ua=[];var ea=T.CF[0];var ac=!!ea.SSS;var sb={type:\"Feature\",properties:ea,geometry:{type:\"MultiLineString\",coordinates:ua}};sb.properties.LHT=\nw;T.SHP.length&&(sb.properties.FC=T.SHP[0].FC);ac&&(m=[]);for(ea=0;ea<T.SHP.length;ea++){var ad=T.SHP[ea].value;var ri=ad.length;for(h=0;h<ri;h++){var Ie=ac?m:void 0,Pb=new On(ad[h].trim()),Nf=[],Sc={};for(Pb.ne();-1!==(k=Pb.Tb());)k===gq?(Sc.lat=+String.fromCharCode.apply(cq,Pb.Od()),Pb.next(),Pb.ne()):k===hq?(Sc.lng=+String.fromCharCode.apply(cq,Pb.Od()),Nf.push([Sc.lng,Sc.lat]),Ie&&Ie.push(Zf(Sc)),Sc=[],Pb.next(),Pb.ne()):Pb.next();Sc.lng=+String.fromCharCode.apply(cq,Pb.Od());Nf.push([Sc.lng,\nSc.lat]);Ie&&Ie.push(Zf(Sc));k=Nf;ua.push(k)}}l.features.push(sb)}}}}return cq.l.ld.call(this,a,b,c,l,e)};cq.prototype.createTileInternal=cq.prototype.ld;var eq=21,dq=10,hq=32,gq=44;function iq(a){function b(m){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete iq.a[f];m&&a.Cj&&a.Cj.call(k,m)}if(!a.url||!a.Vg)throw Error('Parameter \"options\" must specify at least a URL and a callback.');if(\"function\"!==typeof a.Vg)throw Error(\"Parameters options.callback must be a function\");var c=a.bp||document;var d=c.getElementsByTagName(\"head\")[0];var e=c.createElement(\"script\");c=a.url instanceof X?a.url:tp(a.url,a.ap);var f=iq.b++;var g=a.Nl||\"callback\";var h=a.Vg;var k={};var l=\nnull;k.id=f;k.cancel=function(){b(\"cancelled\")};0!==a.timeout&&(l=x.setTimeout(function(){b(\"timeout\")},a.timeout||3E4));iq.a[f]=function(m){b();h.call(k,m)};e.type=\"text/javascript\";e.src=c.toString()+(c.Wj()?\"&\":\"?\")+g+\"=\"+(a.cp?\"H.service.jsonp.handleResponse(\"+f+\")\":encodeURI(\"H.service.jsonp.handleResponse(\"+f+\")\"));d.appendChild(e);return k}t(\"H.service.jsonp\",iq);iq.zn=function(a){return(a=iq.a[a])?a:function(){}};iq.handleResponse=iq.zn;iq.b=0;iq.a={};function Xp(a){Xp.l.constructor.call(this,Xp,a);this.Ol=pp(this,a).callbackKey}u(Xp,op);t(\"H.service.traffic.Service\",Xp);Xp.prototype.a=function(){return{subDomain:\"traffic.ls\",path:\"traffic/6.1\",callbackKey:\"jsoncallback\"}};Xp.CONFIG_KEY=\"traffic\";Xp.prototype.qj=function(a){return new ml(new cq(this,void 0,a),{max:22})};Xp.prototype.createFlowLayer=Xp.prototype.qj;Xp.prototype.rj=function(a){return new pn(new Wp(this,void 0,a))};Xp.prototype.createIncidentsLayer=Xp.prototype.rj;\nfunction jq(a,b,c,d){return iq({url:b,Vg:c,Cj:function(e){d(Error(\"[\"+e+\"] \"+b+\" request failed\"))},Nl:a.Ol})}Xp.prototype.yo=function(a,b,c){a=this.I().clone().L(\"incidents.json\").N(a);return jq(this,a,b,c)};Xp.prototype.requestIncidents=Xp.prototype.yo;Xp.prototype.xo=function(a,b,c,d,e,f){a=this.I().clone().L([\"flow/json\",c,a,b].join(\"/\")).N(f||{});return jq(this,a,d,e)};Xp.prototype.requestFlowByTile=Xp.prototype.xo;\nXp.prototype.zo=function(a,b,c,d,e,f){a=this.I().clone().L([\"incidents/json\",c,a,b].join(\"/\")).N(f||{});return jq(this,a,d,e)};Xp.prototype.requestIncidentsByTile=Xp.prototype.zo;Xp.prototype.Xf=function(){return Bp().L(\"traffic/flow.yaml\")};Y.prototype.Qj=function(a){return this.bb(Xp,a)};Y.prototype.getTrafficService=Y.prototype.Qj;function kq(a){kq.l.constructor.call(this,kq,a);this.Tk=pp(this,a).reverseSubDomain}u(kq,op);t(\"H.service.GeocodingService\",kq);kq.prototype.a=function(){return{subDomain:\"geocoder.ls\",reverseSubDomain:\"reverse\",path:\"6.2\"}};kq.CONFIG_KEY=\"geocoding\";kq.prototype.b=function(a){return Error(a.Details||a.message||a.error)};kq.prototype.lh=function(a,b,c){a=this.I().clone().L(\"geocode.json\").N(a);return this.J(a,b,c)};kq.prototype.geocode=kq.prototype.lh;\nkq.prototype.wi=function(a,b,c){a=this.I().clone().L(\"reversegeocode.json\").N(a);this.Tk&&a.Qa(this.Tk);return this.J(a,b,c)};kq.prototype.reverseGeocode=kq.prototype.wi;kq.prototype.search=function(a,b,c){a=this.I().clone().L(\"search.json\").N(a);return this.J(a,b,c)};kq.prototype.search=kq.prototype.search;Y.prototype.Am=function(a){return this.bb(kq,a)};Y.prototype.getGeocodingService=Y.prototype.Am;function lq(a){lq.l.constructor.call(this,lq,a)}u(lq,op);t(\"H.service.PlacesService\",lq);lq.prototype.a=function(){return{subDomain:\"places.ls\",path:\"places/v1\"}};lq.CONFIG_KEY=\"places\";lq.EntryPoint={SEARCH:\"discover/search\",SUGGEST:\"suggest\",EXPLORE:\"discover/explore\",AROUND:\"discover/around\",HERE:\"discover/here\",CATEGORIES:\"categories/places\"};lq.prototype.request=function(a,b,c,d){return this.va(a,b,c,d)};\nlq.prototype.va=function(a,b,c,d){a=this.I().clone().L(a).N(b||{});return this.J(a,c,d)};lq.prototype.search=function(a,b,c){return this.va(\"discover/search\",a,b,c)};lq.prototype.search=lq.prototype.search;lq.prototype.Jo=function(a,b,c){return this.va(\"suggest\",a,b,c)};lq.prototype.suggest=lq.prototype.Jo;lq.prototype.Yl=function(a,b,c){return this.va(\"discover/explore\",a,b,c)};lq.prototype.explore=lq.prototype.Yl;lq.prototype.Il=function(a,b,c){return this.va(\"discover/around\",a,b,c)};\nlq.prototype.around=lq.prototype.Il;lq.prototype.Bn=function(a,b,c){return this.va(\"discover/here\",a,b,c)};lq.prototype.here=lq.prototype.Bn;lq.prototype.Pl=function(a,b,c){return this.va(\"categories/places\",a,b,c)};lq.prototype.categories=lq.prototype.Pl;lq.prototype.$l=function(a,b,c,d){a=tp(a).N(this.I().getQuery()).N(d||{});return this.J(a,b,c)};lq.prototype.follow=lq.prototype.$l;Y.prototype.Ym=function(a){return this.bb(lq,a)};Y.prototype.getPlacesService=Y.prototype.Ym;function mq(a){mq.l.constructor.call(this,mq,a)}u(mq,op);t(\"H.service.publicTransit.Service\",mq);mq.prototype.a=function(){return{subDomain:\"transit.router\",path:\"v8\"}};mq.CONFIG_KEY=\"publicTransit\";mq.prototype.hn=function(a,b,c){a=this.I().clone().L(\"routes\").N(a);return this.J(a,b,c)};mq.prototype.getRoutes=mq.prototype.hn;mq.prototype.tm=function(a,b,c){a=this.I().clone().L(\"departures\").N(a);return this.J(a,b,c)};mq.prototype.getDepartures=mq.prototype.tm;\nmq.prototype.mn=function(a,b,c){a=this.I().clone().L(\"stations\").N(a);return this.J(a,b,c)};mq.prototype.getStations=mq.prototype.mn;mq.prototype.b=function(a){return Error(JSON.stringify(a))};Y.prototype.dn=function(a){return this.bb(mq,a)};Y.prototype.getPublicTransitService=Y.prototype.dn;function nq(a){nq.l.constructor.call(this,nq,a)}u(nq,op);t(\"H.service.RoutingService\",nq);nq.prototype.a=function(){return{subDomain:\"route.ls\",path:\"routing/7.2\"}};nq.prototype.b=function(a){return Error(a.details)};nq.CONFIG_KEY=\"routing\";nq.prototype.Jd=function(a,b,c){a=this.I().clone().L(\"calculateroute.json\").N(a);return this.J(a,b,c)};nq.prototype.calculateRoute=nq.prototype.Jd;\nnq.prototype.Ml=function(a,b,c){a=this.I().clone().Qa(\"isoline\").L(\"calculateisoline.json\").N(a);return this.J(a,b,c)};nq.prototype.calculateIsoline=nq.prototype.Ml;function oq(a){oq.l.constructor.call(this,oq,a)}u(oq,op);t(\"H.service.RoutingService8\",oq);oq.CONFIG_KEY=\"routing_v8\";oq.prototype.a=function(){return{subDomain:\"router\",path:\"v8/routes\"}};oq.prototype.b=function(a){return Error(a.error)};oq.prototype.Jd=function(a,b,c){a=this.I().clone().N(a);return this.J(a,b,c)};oq.prototype.calculateRoute=oq.prototype.Jd;Y.prototype.Oj=function(a,b){b=+b||7;if(7===b)b=nq;else if(8===b)b=oq;else throw new D(this.Oj,1,\"allowed values are 7 and 8\");return this.bb(b,a)};Y.prototype.getRoutingService=Y.prototype.Oj;function pq(){}t(\"H.service.extension.dataView.ITable\",pq);pq.prototype.Ud=function(){};pq.prototype.getMeta=pq.prototype.Ud;pq.prototype.Xd=function(){};pq.prototype.getRowCount=pq.prototype.Xd;pq.prototype.Ac=function(){};pq.prototype.getRow=pq.prototype.Ac;pq.prototype.Sa=function(){};pq.prototype.getColumnNames=pq.prototype.Sa;pq.prototype.Ie=function(){};pq.prototype.getColumn=pq.prototype.Ie;pq.prototype.xa=function(){};pq.prototype.getCell=pq.prototype.xa;pq.prototype.concat=function(){};\npq.prototype.concat=pq.prototype.concat;function qq(){}t(\"H.service.extension.dataView.IRow\",qq);qq.prototype.Sa=function(){};qq.prototype.getColumnNames=qq.prototype.Sa;qq.prototype.xa=function(){};qq.prototype.getCell=qq.prototype.xa;qq.prototype.qd=function(){};qq.prototype.getTable=qq.prototype.qd;function rq(a,b){this.a=a;this.b=b}t(\"H.service.extension.dataView.ObjRow\",rq);rq.prototype.Sa=function(){return this.a.Sa()};rq.prototype.getColumnNames=rq.prototype.Sa;rq.prototype.xa=function(a){return this.a.xa(this.b,a)};rq.prototype.getCell=rq.prototype.xa;rq.prototype.qd=function(){return this.a};rq.prototype.getTable=rq.prototype.qd;function sq(){}t(\"H.service.extension.dataView.IColumn\",sq);sq.prototype.xa=function(){};sq.prototype.getCell=sq.prototype.xa;function tq(a,b){this.b=a;this.a=b}t(\"H.service.extension.dataView.ObjColumn\",tq);tq.prototype.xa=function(a){return this.b.xa(a,this.a)};tq.prototype.getCell=tq.prototype.xa;function uq(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):B);this.Gb=a;if(b)for(this.Kd=b,this.Xg=a=mc(),d=b.length;d--;)a[b[d]]=!0;c!==B&&(this.ei=c)}t(\"H.service.extension.dataView.ObjTable\",uq);n=uq.prototype;n.ei=B;n.Gb=B;n.Kd=B;n.Xg=B;n.Ud=function(){return this.ei};uq.prototype.getMeta=uq.prototype.Ud;uq.prototype.Xd=function(){return this.Gb?this.Gb.length:0};uq.prototype.getRowCount=uq.prototype.Xd;uq.prototype.Ac=function(a){var b=this.Gb;return b&&b[a]?new rq(this,a):B};\nuq.prototype.getRow=uq.prototype.Ac;uq.prototype.Sa=function(){return this.Kd||ff};uq.prototype.getColumnNames=uq.prototype.Sa;uq.prototype.Ie=function(a){return this.Xg[a]?new tq(this,a):B};uq.prototype.getColumn=uq.prototype.Ie;uq.prototype.xa=function(a,b){var c=this.Gb;return(a=c&&this.Xg[b]&&c[a])&&a[b]};uq.prototype.getCell=uq.prototype.xa;\nuq.prototype.concat=function(){var a=arguments.length,b,c=this.Kd,d=\"\"+this.Kd,e=(this.Gb||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof uq))throw new D(this.concat,b);if(f.Gb){if(c&&\"\"+f.Kd!==d)throw new D(this.concat,b,\"Incompatible columns!\");e=e.concat(f.Gb)}}return new uq(e,this.Kd,this.ei)};uq.prototype.concat=uq.prototype.concat;function vq(a,b){a.Gb?a.Gb.push(b):a.Gb=[b];return a.Gb.length-1};function wq(a){var b=xq;if(!a||!zc(Ze(a.layerId,a.layer))||!Cc(a.level)||tc(a.rowFilter)&&!Ca(a.rowFilter)||tc(a.rowFilterContext)&&!Da(a.rowFilterContext))throw new D(b,1,tc(\"invalid layer config\")?\"invalid layer config\":a);};function yq(a,b,c,d){d=d||zq;this.gf={};d.provider=a;this.invalidate=ef;yq.l.constructor.call(this,b,d);delete this.invalidate;c&&(this.b=c);this.ua(Mg.ADD)}u(yq,ah);t(\"H.service.remote.Spatial\",yq);var zq={};yq.prototype.fb=function(){return this.b||ah.prototype.fb.call(this)};yq.prototype.getId=yq.prototype.fb;yq.prototype.wg=Function();yq.prototype.retain=yq.prototype.wg;yq.prototype.release=Function();yq.prototype.release=yq.prototype.release;function Aq(a,b){this.a=a;b&&(this.b=b)}\nvar Bq=new Aq([]);yq.prototype.Sd=function(a){return(this.gf[a.key]||Bq).a};yq.prototype.getGeometriesForTile=yq.prototype.Sd;yq.prototype.uh=function(a){return(this.gf[a.key]||Bq).b};yq.prototype.getLabels=yq.prototype.uh;function Cq(a,b,c){a.gf[b.key]=new Aq(c,void 0)};function Dq(a,b,c,d,e,f){Eq(Dq,1,b,c);Eq(Dq,2,d,e);(this.f=a.length)?(this.s=a,this.aa=b,this.i=c,this.b=0,this.c=A(this.c,this),this.o=d,this.j=e,this.a=mc(),Wa(this.a,Fq,f||{}),this.g={},x.setTimeout(this.c,0)):b(ff,!0)}var Fq={duration:100,dm:\"geometry\",cm:\"WKT\",Ao:\"searchAttributes\",uj:B};\nDq.prototype.c=function(){var a=[];var b=!1;for(var c=Ak(),d;this.b<this.f;){var e=this.s[this.b];b=e.attributes;d=e.layerId||this.a.uj;e.distance&&(b[this.a.Ao]={nearest:new Xf(e.nearestLat,e.nearestLon),distance:e.distance});if(e=e[this.a.dm]){try{var f=tn(new On(e))}catch(g){this.i(new x.Error(g.message));b=!0;break}b[this.a.cm]=f}(e=this.g[d])||(e=this.g[d]=this.o({layerId:d,columnNames:Object.keys(b)}));b=this.j(e,b);a.push(b);this.b++;if((b=this.b===this.f)||Ak()-c>=this.a.duration){this.aa(a,\nb);break}}b?this.g=y:this.m=x.setTimeout(this.c,0)};Dq.prototype.cancel=function(){x.clearTimeout(this.m);this.b<this.f&&this.i(new x.Error(\"parsing canceled\"))};Dq.prototype.cancel=Dq.prototype.cancel;function Eq(a,b,c,d){if(!Ca(c))throw new D(a,b,\"has invalid type\");if(!Ca(d))throw new D(a,b+1,\"has invalid type\");};function Gq(a,b,c){var d=8===a;this.b=b;this.c=c||id;(this.a=4===a||d)?this.j=d:this.g=1===a;this.f=this.a?\"$HProjGeometry\":\"geometry\"}\nGq.prototype.parse=function(a,b,c){var d,e,f={},g=[],h,k;var l=0;for(h=c.length;l<h;l++){var m=c[l];var q=m.Rows;if(m=q.length){var p=Object.keys(q[0]).filter(function(v){return\"geometry\"!==v&&\"$HProjGeometry\"!==v});p=new uq(q,p);for(k=0;k<m;k++){var r=q[k];if(e=r[this.f]){if(delete r[this.f],r=p.Ac(k))try{this.a?d=Hq(this,a,b,r,e):d=Iq(this,a,r,e.path),d.ja(a),g.push(d)}catch(v){this.c(v.message)}}else this.c(\"Layer must contain geometries\")}}}f[this.a?\"spatials\":this.g?\"markers\":\"domMarkers\"]=\ng;return f};function Hq(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new yq(b,a.j,B,{style:l||a.i,data:d});k!==h;)f.push(Jq(g[k++]));Cq(a,c,[new qh(f,e.interiorsIndex,e.outlinesIndex)]);return a}function Iq(a,b,c,d){d=new Xf(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new mn(d,a)):(a={icon:e,data:c,provider:b},a=new Pi(d,a));return a}function Jq(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new I(a[b++],a[b++]));return d};function Kq(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback;tc(a.min)||(a.min=12);Kq.l.constructor.call(this,a);if(-1===Lq.indexOf(c))throw new D(Kq,2,\"invalid resultType\");this.a=c;if(d&&!Ca(d))throw new D(Kq,2,\"invalid style callback\");this.wa=d;this.V=a.pixelRatio||Se();this.Lb=A(this.Lb,this);this.O(new Ek(b,A(this.cc,this)));this.createTileInternal=4===c||8===c?A(this.K,this):A(this.D,this)}u(Kq,R);t(\"H.service.extension.TileProvider\",Kq);Kq.prototype.c=!1;\nKq.prototype.j=function(){return Kq.l.j.call(this)|192};Kq.prototype.ib=function(a,b,c,d){return this.c?Kq.l.ib.call(this,a,b,c,d):B};Kq.prototype.requestTile=Kq.prototype.ib;Kq.prototype.Lb=function(a){this.dispatchEvent(new td(\"error\",zc(a)?a:a+\"\",this))};Kq.prototype.Wb=function(){return 1===this.a};Kq.prototype.providesMarkers=Kq.prototype.Wb;Kq.prototype.Vb=function(){return 2===this.a};Kq.prototype.providesDomMarkers=Kq.prototype.Vb;Kq.prototype.Ic=function(){return 4===this.a||8===this.a};\nKq.prototype.providesSpatials=Kq.prototype.Ic;function Mq(a){var b=a.vb;b||(a.v||(a.v=a.s(a.a,a.wa,a.Lb)),b=a.vb=new Zp(a.v),b.ja(a),b.addEventListener(a.g.Da,A(a.jb,a)),b.vb=!0);return b}Kq.prototype.D=function(a,b,c,d){var e=this.getTileKey(a,b,c);e=this.Pb().get(e);var f=2==this.a,g=[],h=Mq(this);e?e.valid=!0:(a=e=new Mk(a,b,c,y),delete a.j,a.m=d);d=f?aq(h,e,\"domMarkers\"):aq(h,e,\"markers\");for(b=d.length;b--;)a=d[b],a.Vi=e,(f||1===a.zb().getState())&&g.push(a);e.data=g;return e};\nKq.prototype.jb=function(a){if(a=a.target.Vi)a.valid=!1};Kq.prototype.Eo=function(a){this.B=!!a};Kq.prototype.setTileCanvasRendering=Kq.prototype.Eo;Kq.prototype.B=!0;Kq.prototype.K=function(a,b,c,d){var e=Mq(this),f=this.getTileKey(a,b,c),g=this.tileSize,h=this.Pb().get(f);h||(a=h=new Qk(f,a,b,c,g,this.V,c,e),delete a.j,a.m=d);this.B?(d=Ap.pop(g),h.$(d)||Ap.push(d,g)):Wk(h);return h};\nKq.prototype.cc=function(a,b){var c;if(4===this.a||8===this.a){a=b.Ta();for(c=a.length;c--;)delete a[c].gf[b.key];b.data&&(Ap.push(b.qg(),this.tileSize),b.rg())}else for(a=b.data,c=a.length;c--;)delete a[c].Vi};Kq.prototype.u=function(){Kq.l.u.call(this);Mq(this).C()};var Nq={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};Kq.ResultType=Nq;var Lq=[1,2,4,8];function xq(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType;xq.l.constructor.call(this,c);C(a,Oq,xq,0);wq(b);e?(c=Ua(b),c.rowFilter=e.toString()):c=Ua(b);delete c.layer;c.layerId=Ze(b.layerId,b.layer);(new Mf).a(\"pde\",\"H.service.extension.worker.processor\");a=a.I().clone().L(Pq+\".\"+Qq).N({meta:1});(new Qf(\"pde\",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:4===f,serverUrl:a.toString(),layerConfigs:[c],horizontalMargin:1}]})).then(function(){d.c=!0;Uj(d)},this.Lb)}\nu(xq,Kq);t(\"H.service.extension.platformData.TileProvider\",xq);xq.prototype.s=function(a,b,c){a=new Gq(a,b,c);a.i=Rq;return a};var Rq=new O({strokeColor:\"transparent\",fillColor:\"transparent\",lineWidth:0,lineJoin:\"round\",lineCap:\"round\"});\nxq.prototype.J=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Pb().get(g);var k={cancel:id},l=!0,m=this.a;g&&(4===m||8===m?g.be()||(d(Ap.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var q=yp.setTimeout(function(){h=new Qf(\"pde\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():yp.clearTimeout(q)}}return k};xq.prototype.requestInternal=xq.prototype.J;xq.prototype.u=function(){xq.l.u.call(this);new Qf(\"pde\",{message:[this.uid,3]})};\nxq.ResultType=Nq;function Sq(a){this.a=a}Sq.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};function Oq(a){Oq.l.constructor.call(this,Oq,a)}u(Oq,op);t(\"H.service.extension.platformData.Service\",Oq);Oq.prototype.a=function(){return{subDomain:\"s.fleet.ls\",path:\"1\"}};Oq.CONFIG_KEY=\"platformData\";Oq.prototype.request=function(a,b,c,d,e){return this.va(a,b,c,d,e)};\nOq.prototype.va=function(a,b,c,d,e){var f=\"text/plain\";if(!a)throw new D(this.request,0,a);if(!b)throw new D(this.request,1,b);if(!d)throw new D(this.request,3,d);if(!e)throw new D(this.request,4,e);a=this.I().clone().L(a+\".\"+b).N(c);b===Tq.JSON&&(f=\"application/json\");return this.J(a,d,e,f)};var Pq=\"tiles\";\nOq.EntryPoint={DOC_ATTRIBUTES:\"doc/attributes\",DOC_LAYER:\"doc/layer\",DOC_LAYERS:\"doc/layers\",DOC_MAPS:\"doc/maps\",DOC_INDEXES:\"doc/indexes\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SERVICE_CONFIGURATION:\"serviceconfiguration\",STATIC:\"static\",TILE:\"tile\",TILES:Pq,FILE:\"file\",INDEX:\"index\"};var Qq=\"json\",Tq={TXT:\"txt\",JSON:Qq,HTML:\"html\",BIN:\"bin\"};Oq.EntryPointType=Tq;\nOq.prototype.uc=function(a,b){var c=b&&b.resultType;a=new xq(this,a,b);var d;1==c||2===c?d=new pn(a):d=new ml(a);return d};Oq.prototype.createTileLayer=Oq.prototype.uc;Oq.prototype.Bd=function(a,b,c,d){var e=[],f,g=b.layer_id||b.layer_ids;a=this.request(a,Qq,b,function(h){f=new Dq(h.geometries,c,d,function(k){return new uq([],k.columnNames,k)},function(k,l){return k.Ac(vq(k,l))},{uj:g});e.push(f)},function(h){d(new x.Error(h))});e.push(a);return new Sq(e)};\nfunction Uq(a,b,c){if(!yc(a))throw new D(c,0,\"has invalid type\");if(!yc(b))throw new D(c,1,\"has invalid type\");if(a.length!==b.length||!a.length)throw new D(c,1,\"specify one key attribute for each given layer id in the same order\");}\nOq.prototype.Lc=function(a,b,c,d,e,f){function g(l,m){m&&h--;d(l,!h)}var h,k=[];Uq(a,b,this.Lc);Eq(this.Lc,3,d,e);C(c,K,this.Lc,2);c={bbox:c.ka+\",\"+c.ca+\";\"+c.ma+\",\"+c.ga};f&&Wa(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(this.Bd(\"search/bbox\",c,g,e));return new Sq(k)};Oq.prototype.searchByBoundingBox=Oq.prototype.Lc;\nOq.prototype.Yb=function(a,b,c,d,e,f,g){Uq(a,b,this.Yb);C(c,Xf,this.Yb,2,\"has invalid type\");if(!Cc(d))throw new D(this.Yb,3,\"has invalid type\");Eq(this.Yb,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),proximity:c.lat+\",\"+c.lng+\",\"+d};g&&Wa(a,g);return this.Bd(\"search/proximity\",a,e,f)};Oq.prototype.searchByProximity=Oq.prototype.Yb;\nOq.prototype.Xb=function(a,b,c,d,e,f,g){var h=\"\";Uq(a,b,this.Xb);if(!zc(c)&&!C(c,L))throw new D(this.Xb,1,\"has invalid type\");if(!Cc(d))throw new D(this.Xb,2,\"has invalid type\");Eq(this.Xb,4,e,f);a={layer_ids:a.join(\",\"),key_attributes:b.join(\",\"),radius:d};if(zc(c))a.route_id=c;else{d=c.X;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+\",\"+d[c+1],c<b-3&&(h+=\";\");a.corridor=h}g&&Wa(a,g);return this.Bd(\"search/corridor\",a,e,f)};Oq.prototype.searchByCorridor=Oq.prototype.Xb;\nY.prototype.Zm=function(a){return this.bb(Oq,a)};Y.prototype.getPlatformDataService=Y.prototype.Zm;function Vq(a){Vq.l.constructor.call(this,Vq,a)}u(Vq,op);t(\"H.service.extension.geofencing.Service\",Vq);Vq.prototype.a=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};Vq.CONFIG_KEY=\"geofencing\";Vq.prototype.request=function(a,b,c,d){return this.va(a,b,c,d)};Vq.prototype.b=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a.message||a.response_code)};\nVq.prototype.va=function(a,b,c,d){if(!a)throw new D(this.request,0,a);if(!Ca(c))throw new TypeError(\"onResult must be a function\");if(!Ca(d))throw new TypeError(\"onError must be a function\");a=this.I().clone().L(a+\".json\").N(b);return this.J(a,c,d)};Vq.EntryPoint={SEARCH_PROXIMITY:\"search/proximity\"};Y.prototype.Bm=function(a){return this.bb(Vq,a)};Y.prototype.getGeofencingService=Y.prototype.Bm;t(\"H.service.extension.customLocation.Permission\",{READ:\"read\",WRITE:\"write\",EXPORT:\"export\"});t(\"H.service.extension.customLocation.Storage\",{READONLY:\"readonly\",UPDATABLE:\"updatable\"});function Wq(a){var b=Xq;if(!a||!zc(a.layerId)||tc(a.rowFilter)&&!Ca(a.rowFilter)||tc(a.rowFilterContext)&&!Da(a.rowFilterContext))throw new D(b,1,tc(\"invalid layer config\")?\"invalid layer config\":a);}function Yq(a){return zc(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function Zq(a){for(var b=a&&a.length,c=2<=b&&\"WKT\"===a[--b]&&\"GEOMETRY_ID\"===a[--b];c&&b--;)c=Yq(a[b]);return c}\nfunction $q(a,b){var c=\"\",d,e,f=[];if(!b){var g={};f=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)b=a.geometries[e],g[b.layerId]||(g[b.layerId]=[]),g[b.layerId].push(b);for(d in g)f.push({layerId:d,geometries:g[d]});for(d=0;d<f.length;d++)c+=$q(f[d],f[d].layerId)}else if(a.geometries&&a.geometries.length)for(e=Object.keys(a.geometries[0].attributes),c=c+(\"Meta:\\t\"+b+\"\\n\")+e.join(\"\\t\"),c+=\"\\tWKT\\n\",d=0;d<a.geometries.length;d++){var h=a.geometries[d].attributes;g=a.geometries[d].geometry;for(b=\n0;b<e.length;b++)f.push(h[e[b]]);c+=f.join(\"\\t\");c+=\"\\t\"+g+\"\\n\";f=[]}return c};function Xq(a,b,c){var d=this,e=b&&b.rowFilter,f;Xq.l.constructor.call(this,c);C(a,ar,Xq,0);var g=c.resultType;Wq(b);if(e){var h=Ua(b);h.rowFilter=e.toString()}else h=b;(new Mf).a(\"cle\",\"H.service.extension.worker.processor\");var k=b.layerId;a.request(br,cr,{detail_level:\"all\",layer_id:k},function(l){l=l.layers;var m;for(m=0;m<l.length;m++)if(l[m].layerId===k){h.level=l[m].level;break}f=a.I().clone().L(dr+\".\"+cr).N({meta:1});(new Qf(\"cle\",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,onlyOutline:4===\ng,serverUrl:f.toString(),layerConfigs:[h],batchTiles:!1,horizontalMargin:1}]})).then(function(){d.c=!0;Uj(d)},d.Lb)},function(l){d.Lb(l.message)})}u(Xq,Kq);t(\"H.service.extension.customLocation.TileProvider\",Xq);Xq.prototype.s=function(a,b,c){return new Gq(a,b,c)};\nXq.prototype.J=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Pb().get(g);var k={cancel:id},l=!0,m=this.a;g&&(4===m||8===m?g.be()||(d(Ap.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var q=yp.setTimeout(function(){h=new Qf(\"cle\",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():yp.clearTimeout(q)}}return k};Xq.prototype.requestInternal=Xq.prototype.J;Xq.prototype.u=function(){Xq.l.u.call(this);new Qf(\"cle\",{message:[this.uid,3]})};function er(){if(fr)throw new Yc(er);}t(\"H.service.extension.customLocation.Table\",er);var fr=!0;function gr(a,b){var c;fr=!1;var d=new er;fr=!0;d.c=pc(x.JSON.parse(x.JSON.stringify(a)));a=a.columnNames;var e=mc();for(c=a.length;c--;)e[a[c]]=c;d.f=e;d.b=a.length;if(b){if(b.length%a.length)throw new D(gr,1,\"Invalid number of cells\");}else b=[];d.a=b;return d}er.prototype.Ud=function(){return this.c};er.prototype.getMeta=er.prototype.Ud;er.prototype.Xd=function(){return this.a.length/this.b};\ner.prototype.getRowCount=er.prototype.Xd;er.prototype.Ac=function(a){return a<this.a.length/this.b?new hr(this,a):B};er.prototype.getRow=er.prototype.Ac;er.prototype.jn=function(){var a=this.a.length/this.b,b,c=new x.Array(a);for(b=0;b<a;b++)c[b]=new hr(this,b);return c};er.prototype.getRows=er.prototype.jn;er.prototype.Ng=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new D(this.Ng,0,\"Invalid number of cells\");this.a=c.concat(a);return d};er.prototype.addCells=er.prototype.Ng;\ner.prototype.Fl=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(y);return this.Ac(c)};er.prototype.addRow=er.prototype.Fl;er.prototype.Sa=function(){return this.c.columnNames};er.prototype.getColumnNames=er.prototype.Sa;er.prototype.Ie=function(a){return this.f[a]===B?B:new ir(this,a)};er.prototype.getColumn=er.prototype.Ie;er.prototype.xa=function(a,b){return this.a[a*this.b+this.f[b]]};er.prototype.getCell=er.prototype.xa;\ner.prototype.Mc=function(a,b,c){b=this.f[b];if(a>=this.a.length/this.b)throw new D(this.Mc,0,\"Row index out of bounds\");if(b===B)throw new D(this.Mc,0,\"Column unknown\");this.a[a*this.b+b]=c};er.prototype.setCell=er.prototype.Mc;\ner.prototype.concat=function(a){var b=arguments.length,c,d=\"\"+this.Sa(),e=this.a?this.a.slice():[];for(c=0;c<b;c++){var f=arguments[c];if(!(f instanceof er))throw new D(this.concat,c);if(\"\"+f.Sa()!==d)throw new D(this.concat,c,\"Incompatible columns!\");f.a&&(e=e.concat(f.a))}return gr(this.c,e)};er.prototype.concat=er.prototype.concat;var jr=/(\\n|\\t|\\r|\")/;\ner.prototype.Ri=function(a,b){var c,d=this.b,e=this.Sa(),f=[],g=[],h=this.a,k=-1;for(c=0;c<d;c++)if(!a||a.test(e[c]))\"WKT\"===e[c]&&(k=f.length),f.push(c);if(!(a=f.length))throw new D(this.Ri,1,\"No columns filtered\");kr(this,g,e,0,d,f,a,k);if(b){var l=b.length;for(c=0;c<l;c++)g.push(\"\\n\"),e=b[c],kr(this,g,h,e,d,f,a,k)}else for(l=this.Xd(),e=0;e<l;e++)g.push(\"\\n\"),kr(this,g,h,e,d,f,a,k);return g.join(\"\")};\nfunction kr(a,b,c,d,e,f,g,h){var k;for(k=0;k<g;k++){k&&b.push(\"\\t\");var l=c[d*e+f[k]];if(k!==h){if(l!==y){l=String(l);if(jr.test(l))throw new D(a.Ri,0,'Invalid character (\\\\n, \\\\r, \\\\t, or \") in row '+d+\" column \"+a.c.columnNames[f[k]]);b.push(l)}}else b.push(l)}}function ir(a,b){this.b=a;this.a=b}er.Column=ir;ir.prototype.xa=function(a){return this.b.xa(a,this.a)};ir.prototype.getCell=ir.prototype.xa;ir.prototype.Mc=function(a,b){this.b.Mc(a,this.a,b)};ir.prototype.setCell=ir.prototype.Mc;\nfunction hr(a,b){this.a=a;this.bi=b}er.Row=hr;hr.prototype.Sa=function(){return this.a.Sa()};hr.prototype.getColumnNames=hr.prototype.Sa;hr.prototype.xa=function(a){return this.a.xa(this.bi,a)};hr.prototype.getCell=hr.prototype.xa;hr.prototype.Mc=function(a,b){this.a.Mc(this.bi,a,b)};hr.prototype.setCell=hr.prototype.Mc;hr.prototype.qd=function(){return this.a};hr.prototype.getTable=hr.prototype.qd;function lr(a){if(a===B)a=\"\\t\";else if(!/^[^\"\\r\\n]$/.test(a))throw new D(lr,0);this.b=String(a).charCodeAt(0);this.ci=A(this.ci,this);this.A=mr}var mr=0;n=lr.prototype;n.getState=function(){return this.A};function nr(a,b,c){var d=a.A;if(d!==b)throw 1===d&&(a.A=mr),new Yc(c,\"Requires state: \"+[\"READY\",\"PARSE\",\"PAUSE\"][b]+\" but found \"+[\"READY\",\"PARSE\",\"PAUSE\"][d]);}n.abort=function(){nr(this,2,lr.prototype.abort);this.A=mr};\nn.ci=function(a){this.A=mr;throw new D(lr.prototype.parse,0,\"Malformed DSV at row \"+this.a.j+\" column \"+this.a.b+\": \"+a);};function or(a,b){var c=[];a.parse(b,function(d,e,f){1>d&&(c[e]=f);return 0<d});a.A=mr;return c}n.parse=function(a,b,c){nr(this,mr,lr.prototype.parse);a=a.trim();this.a=new pr(a,this.b,this.ci);this.c=b;this.wk=c||ef;this.A=2;this.resume()};n.wk=ef;\nn.resume=function(){var a=this.a,b=[];nr(this,2,lr.prototype.resume);this.A=1;do{if(!a.g){this.A=mr;break}if(e>a.b){if(void 0!==c&&c!==e){this.a.a(\"The number of columns must be the same for all rows\");return}var c=e}var d=a.j;var e=a.b;var f=a.Gf;var g=this.wk(d,e,a);if(a.Gf>f)for(;-1!==a.next(););else{for(;-1!==(f=a.next());)b.push(f);g=String.fromCharCode.apply(y,b);b.length=0}qr(a);this.c(d,e,g)&&(this.A=a.g?2:mr)}while(1===this.A);2!=this.A&&void 0!==c&&0<e&&c!==e&&this.a.a(\"The number of columns must be the same for all rows\")};\nfunction pr(a,b,c){this.c=new On(a);this.m=b;this.g=!0;this.Gf=this.j=this.b=0;qr(this);this.a=c;this.f=[];this.i=!1}n=pr.prototype;n.Gf=0;function qr(a){var b=a.c.Tb();a.o=!1;(a.aa=34===b)&&a.c.next()}function rr(a,b){var c=a.c;a.o=!0;switch(b){case a.m:a.b++;break;case 13:c.next(),10!==c.Tb()&&a.a(\"CR without LF\");case 10:a.b=0;a.j++;break;case -1:a.g=!1;break;default:a.a(\"End of field expected\")}c.next();return-1}\nn.Tb=function(){if(this.o)var a=-1;else{var b=this.c;a=b.Tb();if(this.aa)switch(a){case 34:b.next();a=b.Tb();34!==a&&(a=rr(this,a));break;case -1:this.a(\"Closing quotation mark expected\")}else switch(a){case 34:this.a(\"Unexpected quotation mark\");case this.m:case 13:case 10:case -1:a=rr(this,a)}}return a};n.ne=function(){this.i=!0;this.f=[]};n.Od=function(){var a=this.f.slice();this.i=!1;this.f=[];return a};n.next=function(){var a=this.Tb();-1!==a&&this.c.next();this.i&&this.f.push(a);this.Gf++;return a};function sr(a,b,c,d){d=d||{};if(!b)throw new D(sr,1,\"has to be a function\");if(!c)throw new D(sr,2,\"has to be a function\");this.c=b;this.g=c;this.a=[];this.i=d.duration||tr;this.b=A(this.b,this);this.f={};a=a.split(\"Meta:\\t\").slice(1);for(b=0;b<a.length;b++){d=a[b].split(\"\\n\");c=d[0].split(\"\\t\")[0];d=d.slice(1).join(\"\\n\");this.Nd[c]=new lr;this.ai[c]=or(this.Nd[c],d);var e={layerId:c,columnNames:this.ai[c]};this.Oh.push(c);this.f[c]=gr(e);this.Qc[c]=Ak();ur(this,d,c);this.b(c)}}var tr=100;n=sr.prototype;\nn.ai={};n.Oh=[];n.Nd={};n.Qc={};n.Qi={};function ur(a,b,c){var d=[],e=a.ai[c].length-1,f=a.f[c];try{a.Nd[c].parse(b,function(g,h,k){var l=!1;0<g&&(d[h]=k,h===e&&(a.a.push(f.Ac(f.Ng(d))),Ak()-a.Qc[c]>a.i&&(l=!0)));return l},function(g,h,k){if(0<g&&h===e)return tn(k)})}catch(g){a.g(g)}}n.cancel=function(){for(var a in this.Qi)x.clearTimeout(this.Qi[a])};sr.prototype.cancel=sr.prototype.cancel;\nsr.prototype.b=function(a){var b=this,c,d;this.Qi[a]=x.setTimeout(function(){if(2===b.Nd[a].getState())b.Qc[a]=Ak(),b.c(b.a,!1),b.a=[],b.Nd[a].resume(),b.b(a);else{c=!0;for(d=0;d<b.Oh.length;d++)if(b.Nd[b.Oh[d]].getState()!==mr){c=!1;break}c&&(0<b.a.length&&b.c(b.a,!0),b.a=[])}},0)};function ar(a){ar.l.constructor.call(this,ar,a)}u(ar,op);t(\"H.service.extension.customLocation.Service\",ar);ar.prototype.a=function(){return{subDomain:\"fleet.ls\",path:\"2\"}};ar.CONFIG_KEY=\"customLocation\";ar.prototype.uc=function(a,b){var c=b&&b.resultType;a=new Xq(this,a,b);var d;1===c||2===c?d=new pn(a):d=new ml(a);return d};ar.prototype.createTileLayer=ar.prototype.uc;\nfunction vr(a,b,c,d){var e;a=a===wr?\"changes\":\"file\";var f=b[a],g=zc(f),h=!g&&C(f,Blob);if(!g&&!h)throw new D(d,0,\"Invalid \"+a+\" parameter\");if(xr)h?e=f:e=nf(f,\"text/plain\"),d=new x.FormData,d.append(a,e,e.name||a+\".wkt\"),c.method=\"POST\",c.data=d,delete b[a];else if(h)throw new D(d,0,\"Sending Blob data is not supported by the browser\");}var xr=x.FormData&&!!x.FormData.prototype.append;ar.prototype.request=function(a,b,c,d,e){return this.va(a,b,c,d,e)};\nar.prototype.va=function(a,b,c,d,e){var f=\"text/plain\",g=a===yr.LAYERS_UPLOAD||a===yr.LAYERS_MODIFY||a===yr.LAYERS_IMPORT,h=c,k={data:B,method:\"GET\",headers:this.fg};if(!a)throw new D(this.request,0,a);if(!b)throw new D(this.request,1,b);Eq(this.request,3,d,e);g&&(C(c,Object,this.request,2,\"Invalid request parameters\"),h=Ua(c),vr(a,h,k,this.request));var l=this.I().clone().L(a+\".\"+b).N(h);b===zr.JSON&&(f=\"application/json\");a=new rf(f,l.toString(),fe,k);a.then(function(m){var q=m.issues;q&&m.error_id&&\nm.response_code?e(Error(q[0].message)):d(m)},function(m){\"error\"===m.type||404===m.status?e(Error(m.statusText||\"Unable to load data\")):m.json().then(function(q){e(Error(\"[\"+q.issues[0].message+\"] \"+l+\" request failed\"))},function(){e(Error(\"[\"+m.statusText+\"] \"+l+\" request failed\"))})});return a};\nvar br=\"layers/list\",wr=\"layers/modify\",dr=\"tiled/tile\",yr={LAYERS_DELETE:\"layers/delete\",LAYERS_GRANT:\"layers/access/grant\",LAYERS_LIST:br,LAYERS_MODIFY:wr,LAYERS_UPLOAD:\"layers/upload\",LAYERS_IMPORT:\"layers/import\",SEARCH_ALL:\"search/all\",SEARCH_BBOX:\"search/bbox\",SEARCH_CORRIDOR:\"search/corridor\",SEARCH_PROXIMITY:\"search/proximity\",SEARCH_QUADKEY:\"search/quadkey\",SEARCH_TILE:dr};ar.EntryPoint=yr;var cr=\"json\",zr={TXT:\"txt\",JSON:cr};ar.EntryPointType=zr;\nar.prototype.Ab=function(a,b,c){var d=this;return this.request(\"search/all\",\"txt\",{filter:'WKT==\"\"',layer_id:a},function(e){var f=e.replace(/[\\r\\n]+$/g,\"\").split(\"\\t\");d.request(br,cr,{layer_id:a,detail_level:\"all\"},function(g){g=g.layers[0];g.columnNames=f;b(gr(g))},c)},c)};ar.prototype.getLayer=ar.prototype.Ab;\nar.prototype.Uj=function(a,b,c,d){function e(){return++g<f?h.request(\"layers/access/grant\",cr,{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(\",\")},e,d):h.Ab(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};ar.prototype.grantAccess=ar.prototype.Uj;ar.prototype.vj=function(a,b,c){return this.request(\"layers/delete\",cr,{layer_ids:a},b,c)};ar.prototype.deleteLayer=ar.prototype.vj;\nar.prototype.kd=function(a,b,c){function d(){setTimeout(function(){k.Ab(g,function(p){setTimeout(e.bind(null,p),m)},function(){64E3>l?(l+=m,d()):c(x.Error(\"Timeout\"))})},m);m*=2}function e(p){var r=JSON.stringify(p.Sa()),v=a.grants;if(r!==JSON.stringify(h)){var w=\"Results into different column names on the backend: \"+r;setTimeout(function(){k.vj(g,function(){c(x.Error(w))},function(z){c(x.Error(w+\". \"+z.message))})},m)}else v&&v.length?k.Uj(g,v,b,c):b(p)}var f,g,h,k=this,l=0,m=1E3;var q=!a||!Yq(g=\na.layerId)&&(f=\"layerId\")||!Zq(h=a.columnNames)&&(f=\"columnNames\")?0:Ca(b)?Ca(c)?-1:2:1;if(0<=q)throw new D(k.kd,q,f||arguments[q]);return k.Ab(g,function(){c(x.Error(\"Layer exists already\"))},function(){var p={layer_id:g,file:h.join(\"\\t\")},r=a.level,v=a.storage;r!==B&&(p.level=r);v!==B&&(p.storage=v);k.request(\"layers/upload\",cr,p,d,c)})};ar.prototype.createLayer=ar.prototype.kd;\nar.prototype.Bd=function(a,b,c,d){var e=[],f;a=this.request(a,cr,b,function(g){g.geometries.length?(g=$q(g,b.layer_id),f=new sr(g,c,d),e.push(f)):c(ff,!0)},d);e.push(a);return new Sq(e)};ar.prototype.Yb=function(a,b,c,d,e,f){if(!yc(a))throw new D(this.Yb,0,\"has invalid type\");C(b,Xf,this.Yb,1,\"has invalid type\");if(!Cc(c))throw new D(this.Yb,2,\"has invalid type\");Eq(this.Yb,3,d,e);a={layer_ids:a.join(\",\"),proximity:b.lat+\",\"+b.lng+\",\"+c};f&&Wa(a,f);return this.Bd(\"search/proximity\",a,d,e)};\nar.prototype.searchByProximity=ar.prototype.Yb;ar.prototype.Xb=function(a,b,c,d,e,f){var g=\"\";if(!yc(a))throw new D(this.Xb,0,\"has invalid type\");if(!zc(b)&&!C(b,L))throw new D(this.Xb,1,\"has invalid type\");if(!Cc(c))throw new D(this.Xb,2,\"has invalid type\");Eq(this.Xb,3,d,e);a={layer_ids:a.join(\",\"),radius:c};if(zc(b))a.route_id=b;else{var h=b.X;b=0;for(c=h.length;b<c;b+=3)g+=h[b]+\",\"+h[b+1],b<c-3&&(g+=\",\");a.corridor=g}f&&Wa(a,f);return this.Bd(\"search/corridor\",a,d,e)};\nar.prototype.searchByCorridor=ar.prototype.Xb;ar.prototype.Lc=function(a,b,c,d,e){function f(k,l){l&&h--;c(k,!h)}var g=[],h;if(!yc(a))throw new D(this.Lc,0,\"has invalid type\");C(b,K,this.Lc,1,\"has invalid type\");Eq(this.Lc,2,c,d);b={bbox:b.ka+\",\"+b.ca+\";\"+b.ma+\",\"+b.ga};e&&Wa(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(this.Bd(\"search/bbox\",b,f,d));return new Sq(g)};ar.prototype.searchByBoundingBox=ar.prototype.Lc;\nar.prototype.xi=function(a,b,c,d){var e,f=[];if(!zc(a))throw new D(this.xi,0,\"has invalid type\");Eq(this.xi,1,b,c);var g={layer_id:a};d&&Wa(g,d);d=this.request(\"search/all\",cr,g,function(h){h.geometries.length?(h=$q(h,a),e=new sr(h,b,c),f.push(e)):b(ff,!0)},c);f.push(d);return new Sq(f)};ar.prototype.searchAll=ar.prototype.xi;var Ar={\"delete\":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};\nfunction Br(a,b,c,d,e,f){function g(){v++;d(this,v===p)}function h(V){v++;e(V,this,v===p)}var k=\"append\"!==b,l,m={},q=mc(),p=0,r=[],v=0;if(!yc(c))throw new D(f,0,c);Eq(f,1,d,e);for(l=c.length;l--;){var w=c[l];if(C(w,hr)){var z=w.qd().Ud().layerId;var J=w.xa(\"GEOMETRY_ID\");if(k){if(J===y||\"\"===String(J))var G='GEOMETRY_ID must not be null or \"\"';m[J=z+\"_\"+J]&&(G=\"same GEOMETRY_ID for multiple rows\");m[J]=w}else J!==y&&\"\"!==String(J)&&(G='GEOMETRY_ID must be null or \"\"')}else G=\"Invalid type\";if(G)throw new D(f,\n0,\"- Invalid row at index \"+l+\", \"+G);J=q[z];J||(J=q[z]=[],p++);J.push(w)}for(z in q){J=q[z];c=[];for(l=J.length;l--;)c.push(J[l].bi);r.push(a.request(wr,cr,{layer_id:z,action:b,changes:J[0].qd().Ri(Ar[b]||null,c)},A(g,J),A(h,J)))}return new Sq(r)}ar.prototype.nj=function(a,b,c){return Br(this,\"append\",a,b,c,this.nj)};ar.prototype.appendRows=ar.prototype.nj;ar.prototype.tl=function(a,b,c){return Br(this,\"update\",a,b,c,this.tl)};ar.prototype.updateRows=ar.prototype.tl;\nar.prototype.wj=function(a,b,c){return Br(this,\"delete\",a,b,c,this.wj)};ar.prototype.deleteRows=ar.prototype.wj;Y.prototype.rm=function(a){return this.bb(ar,a)};Y.prototype.getCustomLocationService=Y.prototype.rm;function Cr(a){lq.l.constructor.call(this,Cr,a)}u(Cr,op);t(\"H.service.extension.customRoute.Service\",Cr);Cr.prototype.a=function(){return{subDomain:\"s.fleet.ls\",path:\"2\"}};Cr.CONFIG_KEY=\"customRoute\";Cr.prototype.b=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(\". \"):a)};Cr.prototype.Jd=function(a,b,c){Eq(this.Jd,1,b,c);a=this.I().clone().L(\"calculateroute.json\").N(a);return this.J(a,b,c)};Cr.prototype.calculateRoute=Cr.prototype.Jd;\nY.prototype.sm=function(a){return this.bb(Cr,a)};Y.prototype.getCustomRoutingService=Y.prototype.sm;function Dr(a){Dr.l.constructor.call(this,Dr,a)}u(Dr,op);t(\"H.service.SearchService\",Dr);Dr.CONFIG_KEY=\"search\";Dr.prototype.a=function(){return{subDomain:\"search\",path:\"v1\"}};Dr.prototype.b=function(a){a=[a.title,a.action,a.cause].filter(function(b){return b});return Error(a.join(\". \"))};Dr.prototype.lh=function(a,b,c){a=this.I().clone().Qa(\"geocode\").L(\"geocode\").N(a);return this.J(a,b,c)};Dr.prototype.geocode=Dr.prototype.lh;\nDr.prototype.wi=function(a,b,c){a=this.I().clone().Qa(\"revgeocode\").L(\"revgeocode\").N(a);return this.J(a,b,c)};Dr.prototype.reverseGeocode=Dr.prototype.wi;Dr.prototype.Jl=function(a,b,c){a=this.I().clone().Qa(\"autosuggest\").L(\"autosuggest\").N(a);return this.J(a,b,c)};Dr.prototype.autosuggest=Dr.prototype.Jl;Dr.prototype.Sl=function(a,b,c){a=this.I().clone().Qa(\"discover\").L(\"discover\").N(a);return this.J(a,b,c)};Dr.prototype.discover=Dr.prototype.Sl;\nDr.prototype.Sn=function(a,b,c){a=this.I().clone().Qa(\"lookup\").L(\"lookup\").N(a);return this.J(a,b,c)};Dr.prototype.lookup=Dr.prototype.Sn;Dr.prototype.Ll=function(a,b,c){a=this.I().clone().Qa(\"browse\").L(\"browse\").N(a);return this.J(a,b,c)};Dr.prototype.browse=Dr.prototype.Ll;Y.prototype.ln=function(a){return this.bb(Dr,a)};Y.prototype.getSearchService=Y.prototype.ln;function Er(a){this.g=!!a.toBypassToken;if(!this.g&&!a.token)throw new D(Er,0,'\"token\" must be specified');Er.l.constructor.call(this,Er,a);this.j=a.token;this.i={};this.f={}}u(Er,op);t(\"H.service.xyz.Service\",Er);Er.prototype.a=function(){return{host:\"xyz.api.here.com\",path:\"hub/spaces\"}};Er.prototype.b=function(a){return Error(a.errorMessage||a.message)};\nEr.prototype.xh=function(a,b,c){wc(a,\"String\",this.xh,0,'\"projectId\" must be a string');Fr(this.xh,1,b,c);a=Gr(this.I().clone().pf(\"project-api/projects/\"+a));return this.J(a,b,c)};Er.prototype.getProject=Er.prototype.xh;Er.prototype.Pj=function(a,b,c){Fr(this.Pj,0,a,b);c=Hr(this,this.I().clone().N(c||{}));return this.J(c,a,b)};Er.prototype.getSpaces=Er.prototype.Pj;\nEr.prototype.Wf=function(a,b,c){wc(a,\"String\",this.Wf,0,'\"spaceId\" must be a string');Fr(this.Wf,1,b,c);a=Hr(this,this.I().clone().L(a));return this.J(a,b,c)};Er.prototype.getSpace=Er.prototype.Wf;Er.prototype.Ah=function(a,b,c){wc(a,\"String\",this.Ah,0,'\"spaceId\" must be a string');Fr(this.Ah,1,b,c);a=Hr(this,this.I().clone().L(a+\"/statistics\"));return this.J(a,b,c)};Er.prototype.getStatistics=Er.prototype.Ah;\nfunction Ir(a,b,c,d,e,f,g,h){b=Hr(a,a.I().clone().L(e+\"/tile/web/\"+d+\"_\"+b+\"_\"+c+\".mvtf\").N(Object.assign({clip:!0},h)));return a.J(b,function(k){return k.arrayBuffer().then(f)},g,\"arraybuffer\")}Er.prototype.search=function(a,b,c,d){wc(a,\"String\",this.search,0,'\"spaceId\" must be a string');Fr(this.search,1,b,c);a=Hr(this,this.I().clone().L(a+\"/search\").N(d||{}));return this.J(a,b,c)};Er.prototype.search=Er.prototype.search;\nEr.prototype.Me=function(a,b,c,d){wc(a,\"String\",this.Me,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.Me,1,'\"params\" must be an object');Fr(this.Me,2,c,d);a=Hr(this,this.I().clone().L(a+\"/features\").N(b));return this.J(a,c,d)};Er.prototype.getFeaturesById=Er.prototype.Me;\nEr.prototype.rh=function(a,b,c,d){wc(a,\"String\",this.rh,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.Me,1,'\"params\" must be an object');Fr(this.rh,2,c,d);a=Hr(this,this.I().clone().L(a+\"/bbox\").N(b));return this.J(a,c,d)};Er.prototype.getFeaturesByBoundingBox=Er.prototype.rh;Er.prototype.sa=function(a){var b=this.i[a];if(b)return b;this.f[a]||this.Fe(a);return null};\nEr.prototype.cf=function(a,b,c,d,e){wc(a,\"String\",this.cf,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.cf,1,'\"geojsonObject\" must be an object');Fr(this.cf,2,c,d);if(e&&!Da(e))throw new D(this.cf,4,'\"opt_params\" must be an object');return Jr(this,a,c,d,\"PUT\",b,e)};Er.prototype.putFeatures=Er.prototype.cf;\nEr.prototype.$e=function(a,b,c,d,e){wc(a,\"String\",this.$e,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.$e,1,'\"featureCollection\" must be an object');Fr(this.$e,2,c,d);if(e&&!Da(e))throw new D(this.$e,4,'\"opt_params\" must be an object');return Jr(this,a,c,d,\"POST\",b,e)};Er.prototype.postFeatures=Er.prototype.$e;\nEr.prototype.Lf=function(a,b,c,d){wc(a,\"String\",this.Lf,0,'\"spaceId\" must be a string');if(!Da(b))throw new D(this.Lf,1,'\"params\" must be an object');Fr(this.Lf,2,c,d);return Jr(this,a,c,d,\"DELETE\",B,b)};Er.prototype.deleteFeatures=Er.prototype.Lf;\nfunction Jr(a,b,c,d,e,f,g){var h=Object.assign(a.g?{}:{authorization:\"Bearer \"+a.j},{\"Content-Type\":\"application/geo+json\"},a.fg);e={method:e,headers:h};f&&(e.data=JSON.stringify(f));b=Gr(a.I().clone().L(b+\"/features\").N(g||{}));f=new rf(\"application/json\",b.toString(),fe,e);f.then(c,rp(a,b,d));return f}Er.prototype.Fe=function(a){var b=this;this.f[a]=Kr;this.Wf(a,function(c){b.f[a]=Lr;b.i[a]=c.copyright;b.dispatchEvent(\"copyrightupdate\")},function(c){b.f[a]=Mr;throw c;})};\nfunction Hr(a,b){return a.g?b:Gr(b).N({access_token:a.j})}function Gr(a){var b=Object.assign({},a.getQuery());delete b.apikey;return a.Ii(b)}Er.CONFIG_KEY=\"xyz\";var Kr=1,Lr=2,Mr=-1;function Fr(a,b,c,d){if(!Ca(c))throw new D(a,b,'\"onResult\" must be a function');if(!Ca(d))throw new D(a,b+1,'\"onError\" must be a function');}Y.prototype.wn=function(a){return this.bb(Er,a)};Y.prototype.getXYZService=Y.prototype.wn;function Nr(a,b,c){var d;Nr.l.constructor.call(this,c?{min:c.min,max:c.max}:void 0);C(a,Er,Nr,0);if(!zc(b))throw new D(Nr,1,'\"spaceId\" must be a string');this.s=a;this.c=b;this.a={};if(c&&([\"limit\",\"simplificationLevel\",\"tags\"].forEach(function(e){e in c&&(this.a[e]=c[e])},this),a=c.parameters))for(d in a)this.a[d]=a[d];this.Ed(new Sh({sources:{xyz:{type:\"MVT\"}},layers:{xyz:{data:{source:\"xyz\",layer:this.c},points:{filter:{$geometry:\"point\"},draw:{points:{collide:!1,order:200,color:\"#92CF48\",size:[[10,\n\"8px\"],[14,\"12px\"],[18,\"16px\"]]}}},polygons:{filter:{$geometry:\"polygon\"},draw:{polygons:{order:201,color:\"#E39E3C\"},lines:{order:202,color:\"#755DA5\",width:\"1px\"}}},lines:{filter:{$geometry:\"line\"},draw:{lines:{order:203,color:\"#000000\",width:\"2px\",join:\"round\",cap:\"round\"}}}}}}))}u(Nr,R);t(\"H.service.xyz.Provider\",Nr);Nr.prototype.J=function(a,b,c,d,e){return Ir(this.s,a,b,c,this.c,d,e,this.a)};Nr.prototype.requestInternal=Nr.prototype.J;Nr.prototype.sa=function(){return this.s.sa(this.c)};\nNr.prototype.getCopyrights=Nr.prototype.sa;Nr.prototype.ta=function(){return this.Db()};Nr.prototype.getStyle=Nr.prototype.ta;Nr.prototype.gd=function(a){a.b(\"MVT\");this.Ed(a)};Nr.prototype.setStyle=Nr.prototype.gd;t(\"H.service.buildInfo\",function(){return Ef(\"H-service\",\"1.21.3\",\"629d1cd\")});\n");